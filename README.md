# Telegram Panel - å¤šè´¦æˆ·ç®¡ç†é¢æ¿

åŸºäº **WTelegramClient** çš„ Telegram å¤šè´¦æˆ·ç®¡ç†é¢æ¿ï¼ˆ.NET 8 / Blazor Serverï¼‰ï¼Œç”¨äºæ‰¹é‡ç®¡ç†è´¦å·ã€ç»Ÿè®¡ä¸ç®¡ç†é¢‘é“/ç¾¤ç»„ã€æ‰§è¡Œæ‰¹é‡ä»»åŠ¡ã€‚

## ç¤¾åŒº

- TG é¢‘é“ï¼šhttps://t.me/zhanzhangck
- ç«™é•¿äº¤æµç¾¤ï¼šhttps://t.me/vpsbbq

## åŠŸèƒ½äº®ç‚¹

- ğŸ“¥ **å¤šè´¦å·æ‰¹é‡å¯¼å…¥/ç™»å½•**ï¼šæ”¯æŒ Session/å‹ç¼©åŒ…å¯¼å…¥ï¼›æ”¯æŒæ‰‹æœºå·éªŒè¯ç ç™»å½•ä¸ 2FA å¯†ç 
- ğŸ” **è´¦å·ç»´åº¦ä¸€é”®åˆ‡æ¢æ“ä½œ**ï¼šé€‰æ‹©ä¸åŒè´¦å·åˆ›å»ºé¢‘é“/ç¾¤ç»„ã€æŸ¥çœ‹ä¸ç®¡ç†è´¦å·åˆ›å»ºçš„æ•°æ®
- ğŸ‘¥ **æ‰¹é‡è¿è¥èƒ½åŠ›**ï¼šæ‰¹é‡é‚€è¯·æˆå‘˜/æœºå™¨äººã€æ‰¹é‡è®¾ç½®ç®¡ç†å‘˜ã€å¯¼å‡ºé“¾æ¥ç­‰é«˜é¢‘æ“ä½œ
- ğŸ§© **ç”¨æˆ·ä»»åŠ¡ï¼šæ‰¹é‡è®¢é˜…/åŠ ç¾¤**ï¼šä»»åŠ¡ä¸­å¿ƒæ–°å»ºã€Œç”¨æˆ·ä»»åŠ¡ â†’ æ‰¹é‡è®¢é˜…/åŠ ç¾¤ã€ï¼Œæ”¯æŒæŒ‰è´¦å·åˆ†ç±»ç­›é€‰ï¼›è´¦å·åˆ—è¡¨æ”¯æŒå•è´¦å·â€œè¿›ç¾¤/è®¢é˜…â€å…¥å£ï¼ˆå¤šé“¾æ¥æ¢è¡Œåˆ†éš”ï¼‰
- ğŸ” **äºŒçº§å¯†ç ï¼ˆ2FAï¼‰ä¸æ‰¾å›é‚®ç®±**ï¼šæ”¯æŒå•ä¸ª/æ‰¹é‡ä¿®æ”¹äºŒçº§å¯†ç ï¼›æ”¯æŒç»‘å®š/æ¢ç»‘ 2FA æ‰¾å›é‚®ç®±ï¼ˆéªŒè¯ç ç¡®è®¤ï¼‰
- ğŸ§¯ **å¿˜è®°äºŒçº§å¯†ç å¯ç”³è¯·é‡ç½®**ï¼šæ”¯æŒå•ä¸ªæˆ–æ‰¹é‡å‘ Telegram æäº¤â€œå¿˜è®°å¯†ç é‡ç½®â€ç”³è¯·ï¼ˆé€šå¸¸ç­‰å¾… 7 å¤©åå¯é‡æ–°è®¾ç½®ï¼‰
- ğŸªª **è´¦å·èµ„æ–™ç®¡ç†**ï¼šæ”¯æŒå•è´¦å·ç¼–è¾‘æ˜µç§°/Bio/ç”¨æˆ·å/å¤´åƒï¼›æ”¯æŒæ‰¹é‡ä¿®æ”¹æ˜µç§°ï¼ˆè‡ªåŠ¨è¿½åŠ æ‰‹æœºå·å 4 ä½ä¾¿äºåŒºåˆ†ï¼‰ä¸æ‰¹é‡ä¿®æ”¹ Bio
- ğŸ¤– **Bot é¢‘é“ç®¡ç†**ï¼šç”¨äºç®¡ç†â€œé¢‘é“åˆ›å»ºäººä¸åœ¨ç³»ç»Ÿä¸­â€çš„é¢‘é“ï¼ˆæŠŠ Bot è®¾ä¸ºç®¡ç†å‘˜å³å¯çº³å…¥ç®¡ç†ï¼‰ï¼Œæ”¯æŒæ‰¹é‡å¯¼å‡ºé“¾æ¥ã€æ‰¹é‡è®¾ç½®ç®¡ç†å‘˜ï¼ˆè¸¢äººèƒ½åŠ›å¯æ‰©å±•ï¼‰

## æ‰¹é‡è®¢é˜…/åŠ ç¾¤ï¼ˆç”¨æˆ·ä»»åŠ¡ï¼‰

è¯´æ˜ï¼šè¿™æ˜¯**ç”¨æˆ·è´¦å·**ä»»åŠ¡ï¼ˆBot æ— æ³•ä¸»åŠ¨åŠ ç¾¤/è®¢é˜…ï¼‰ã€‚

### å…¥å£ 1ï¼šä»»åŠ¡ä¸­å¿ƒæ‰¹é‡æ‰§è¡Œ

1. è¿›å…¥ã€Œä»»åŠ¡ä¸­å¿ƒã€â†’ ç‚¹å‡»ã€Œæ–°å»ºä»»åŠ¡ã€
2. é€‰æ‹©ï¼šä»»åŠ¡åˆ†ç±» =ã€Œç”¨æˆ·ä»»åŠ¡ã€ï¼Œä»»åŠ¡ç±»å‹ =ã€Œæ‰¹é‡è®¢é˜…/åŠ ç¾¤ã€
3. é€‰æ‹©æ‰§è¡Œè´¦å·ï¼ˆæ”¯æŒæŒ‰**è´¦å·åˆ†ç±»**ç­›é€‰ + æœç´¢ï¼‰
4. ç²˜è´´é“¾æ¥/ç”¨æˆ·åï¼ˆ**æ¢è¡Œåˆ†éš”**ï¼‰ï¼Œè®¾ç½®é—´éš”ï¼ˆå»ºè®® 1500â€“4000msï¼‰
5. æäº¤ååˆ°ã€Œä»»åŠ¡ä¸­å¿ƒã€æŸ¥çœ‹è¿›åº¦ä¸ç»“æœ

### å…¥å£ 2ï¼šè´¦å·åˆ—è¡¨å•è´¦å·æ‰§è¡Œ

åœ¨ã€Œè´¦å·åˆ—è¡¨ã€æ¯è¡Œè´¦å·çš„æ“ä½œåŒºç‚¹å‡»ã€Œè¿›ç¾¤/è®¢é˜…ã€ï¼Œè¾“å…¥å¤šä¸ªé“¾æ¥/ç”¨æˆ·åï¼ˆæ¢è¡Œåˆ†éš”ï¼‰åç¡®è®¤å³å¯æäº¤åå°ä»»åŠ¡ã€‚

### æ”¯æŒçš„é“¾æ¥/æ ¼å¼

- `https://t.me/xxx`
- `t.me/+hash`
- `@username` / `username`
- `tg://join?invite=hash`


## ğŸ§Š é˜²å†»ç»“æŒ‡å—ï¼ˆæ–°å·å¿…çœ‹ï¼‰

Telegram å¯¹æ–°å·/é£æ§å·çš„é™åˆ¶æ¯”è¾ƒæ•æ„Ÿï¼›æœ¬é¡¹ç›®æä¾›äº†å¾ˆå¤šâ€œæ‰¹é‡/é«˜é¢‘â€èƒ½åŠ›ï¼Œè¯·åŠ¡å¿…è°¨æ…ä½¿ç”¨ã€‚

- âš ï¸ **æ–°å·åˆ‡è®°ï¼šç™»å½•é¢æ¿åä¸è¦è¿›è¡Œä»»ä½•æ“ä½œï¼ï¼ï¼è‡³å°‘å…» 24 å°æ—¶å†åˆ›å»ºé¢‘é“/ç¾¤ã€æ‰¹é‡é‚€è¯·/åŠ ç®¡ç†å‘˜ç­‰æ•æ„Ÿæ“ä½œ**
- âœ… å…»å·å®Œæˆåï¼šå…ˆä»å°‘é‡ã€ä½é¢‘æ“ä½œå¼€å§‹ï¼Œé€æ­¥å¢åŠ é¢‘ç‡ï¼ˆå®å¯æ…¢ç‚¹ï¼Œä¹Ÿåˆ«ä¸€ä¸Šæ¥å°±æ‰¹é‡ï¼‰
- â›” å¦‚æœè´¦å·å‡ºç°é™åˆ¶/å†»ç»“è¿¹è±¡ï¼šå»ºè®®å…ˆåœç”¨è¯¥è´¦å·ï¼Œç­‰å¾…æ¢å¤åå†ç»§ç»­æ“ä½œ
- ğŸ“§ **é‡è¦è´¦å·åŠ¡å¿…ç»‘å®š 2FA æ‰¾å›é‚®ç®±**ï¼šå°¤å…¶æ˜¯æ¥ç æ‰‹æœºå·çš„è´¦å·ï¼Œå­˜åœ¨â€œå®˜æ–¹å®¢æˆ·ç«¯ä¹Ÿå¯èƒ½çªç„¶æ‰ç™»å½•â€çš„æƒ…å†µï¼›è‹¥æœªç»‘å®šé‚®ç®±ï¼Œæ‰çº¿åå¯èƒ½æ— æ³•æ‰¾å›ï¼ˆè´¦å·å°±ä¸¢äº†ï¼‰ã€‚å»ºè®®å‡†å¤‡ä¸€ä¸ªç¨³å®šçš„åŸŸåé‚®ç®±ï¼ŒæŠŠé‡è¦è´¦å·éƒ½ç»‘å®šåˆ°åŒä¸€åŸŸåé‚®ç®±ä½“ç³»ï¼Œä¾¿äºåç»­é€šè¿‡é‚®ç®±éªŒè¯ç é‡æ–°ç™»å½•ã€‚éé‡è¦è´¦å·å¯é…Œæƒ…å¿½ç•¥ã€‚

## æˆªå›¾

> ä»“åº“è‡ªå¸¦åå°æˆªå›¾ï¼š`screenshot/`

<details>
<summary>ç‚¹å‡»å±•å¼€/æ”¶èµ·æˆªå›¾</summary>

| | | |
|---|---|---|
| <img src="screenshot/Dashboard.png" width="300" /> | <img src="screenshot/account.png" width="300" /> | <img src="screenshot/equipment.png" width="300" /> |
| <img src="screenshot/Import account.png" width="300" /> | <img src="screenshot/Login with mobile phone number.png" width="300" /> | <img src="screenshot/System notification.png" width="300" /> |
| <img src="screenshot/Create channel.png" width="300" /> | <img src="screenshot/Invite users in batches.png" width="300" /> | <img src="screenshot/Set up administrators in batches.png" width="300" /> |

</details>

## ğŸ³ Docker ä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

é¢å‘å°ç™½ï¼š**`git clone` â†’ `docker compose up` â†’ æµè§ˆå™¨æ‰“å¼€ â†’ ç™»å½•æ”¹å¯†ç  â†’ é…ç½® ApiId/ApiHash**ã€‚

### ç¯å¢ƒè¦æ±‚

- Dockerï¼ˆWindows æ¨è Docker Desktop + WSL2ï¼›Linux ç›´æ¥è£… Docker Engineï¼‰

### å¯åŠ¨

```bash
git clone https://github.com/moeacgx/Telegram-Panel
cd Telegram-Panel
docker compose up -d --build
```

å¯åŠ¨åè®¿é—®ï¼š`http://localhost:5000`

### é»˜è®¤åå°è´¦å·ï¼ˆé¦–æ¬¡ç™»å½•ï¼‰

- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

ç™»å½•ååˆ°ã€Œä¿®æ”¹å¯†ç ã€é¡µé¢æ”¹æ‰å³å¯ã€‚

### å¿…åšé…ç½®ï¼šTelegram API å‡­æ®

åˆ° https://my.telegram.org/apps **ç”¨ä»»æ„ä¸€ä¸ª Telegram è´¦å·ç”³è¯·ä¸€æ¬¡** `api_id` / `api_hash`ï¼Œç„¶ååœ¨é¢æ¿ã€Œç³»ç»Ÿè®¾ç½®ã€é‡Œä¿å­˜å³å¯ã€‚

> è¯´æ˜ï¼š**ä¸éœ€è¦æ¯ä¸ªè´¦å·éƒ½ç”³è¯·**ï¼Œå…¨ç«™å…±ç”¨è¿™ä¸€å¯¹ `api_id` / `api_hash` å°±èƒ½å·¥ä½œã€‚

### æ•°æ®æŒä¹…åŒ–ï¼ˆåˆ«ä¹±åˆ ï¼‰

å®¹å™¨å†…æ‰€æœ‰æŒä¹…åŒ–æ•°æ®ç»Ÿä¸€æŒ‚è½½åˆ°å®¿ä¸»æœº `./docker-data`ï¼š

- æ•°æ®åº“ï¼š`./docker-data/telegram-panel.db`
- Sessionsï¼š`./docker-data/sessions/`
- ç³»ç»Ÿè®¾ç½®æœ¬åœ°è¦†ç›–ï¼š`./docker-data/appsettings.local.json`
- åå°ç™»å½•å‡­æ®æ–‡ä»¶ï¼š`./docker-data/admin_auth.json`

### æ›´æ–°å‡çº§

#### ğŸ”„ æ­£å¸¸æ›´æ–°æµç¨‹

å½“ä»“åº“æœ‰æ–°åŠŸèƒ½æˆ– Bug ä¿®å¤æ—¶ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ›´æ–°ï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd Telegram-Panel

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker compose down
docker compose up -d --build
```

#### âš ï¸ é‡åˆ°æ›´æ–°å†²çªæ€ä¹ˆåŠï¼Ÿ

å¦‚æœæ‰§è¡Œ `git pull` æ—¶æç¤ºå†²çªæˆ–æŠ¥é”™ï¼Œè¯´æ˜æœ¬åœ°æœ‰æœªæäº¤çš„ä¿®æ”¹ä¸è¿œç¨‹ä»£ç äº§ç”Ÿäº†å†²çªã€‚

**æ–¹æ¡ˆä¸€ï¼šä¿ç•™æœ¬åœ°ä¿®æ”¹ï¼ˆæ¨èï¼‰**

```bash
# æš‚å­˜æœ¬åœ°ä¿®æ”¹
git stash

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æ¢å¤æœ¬åœ°ä¿®æ”¹ï¼ˆå¯èƒ½éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼‰
git stash pop
```

**æ–¹æ¡ˆäºŒï¼šæ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œå¼ºåˆ¶åŒæ­¥è¿œç¨‹ï¼ˆé€‚åˆå°ç™½ï¼‰**

```bash
# å¤‡ä»½é‡è¦æ•°æ®ï¼ˆæ•°æ®åº“ã€Session æ–‡ä»¶ç­‰åœ¨ docker-data/ ç›®å½•ï¼Œä¸ä¼šè¢«åˆ é™¤ï¼‰
# å¦‚æœæœ¬åœ°æœ‰æœªæäº¤çš„ä»£ç ä¿®æ”¹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¼šä¸¢å¤±ï¼

# è·å–è¿œç¨‹æœ€æ–°ä»£ç 
git fetch origin

# å¼ºåˆ¶é‡ç½®åˆ°è¿œç¨‹ç‰ˆæœ¬
git reset --hard origin/main

# é‡æ–°æ„å»º
docker compose down
docker compose up -d --build
```

> **æ³¨æ„**ï¼š`git reset --hard` ä¼š**ä¸¢å¼ƒæ‰€æœ‰æœ¬åœ°æœªæäº¤çš„ä»£ç ä¿®æ”¹**ï¼Œä½†ä¸ä¼šå½±å“ `docker-data/` ç›®å½•é‡Œçš„æ•°æ®åº“å’Œ Session æ–‡ä»¶ï¼Œè¿™äº›æ•°æ®ä¾ç„¶å®‰å…¨ä¿ç•™ã€‚

#### ğŸ†˜ Docker ç¼–è¯‘æŠ¥é”™ï¼Ÿ

å¦‚æœæ›´æ–°å Docker æ„å»ºå¤±è´¥ï¼Œæç¤ºæ‰¾ä¸åˆ°æŸä¸ªç±»æˆ–æ–‡ä»¶ï¼š

```bash
# ç¡®è®¤ä»£ç ç‰ˆæœ¬æ˜¯å¦æ­£ç¡®
git log --oneline -1

# åº”è¯¥æ˜¾ç¤ºæœ€æ–°çš„æäº¤è®°å½•ï¼Œå¦‚æœä¸æ˜¯ï¼Œæ‰§è¡Œå¼ºåˆ¶æ›´æ–°ï¼š
git fetch origin
git reset --hard origin/main

# æ¸…ç† Docker ç¼“å­˜åé‡æ–°æ„å»º
docker compose down
docker system prune -af
docker compose build --no-cache
docker compose up -d
```

## ğŸŒ åå‘ä»£ç†ä¸€æ¡é¾™ï¼ˆå¯é€‰ï¼‰

Blazor Server éœ€è¦ WebSocketï¼ˆ`/_blazor`ï¼‰ï¼Œåä»£å¿…é¡»æ”¯æŒ `Upgrade`ã€‚

è¯´æ˜ï¼šé¡¹ç›®å·²å…¼å®¹éƒ¨åˆ†â€œé»˜è®¤åä»£ä¸é€ä¼  Host/Protoâ€å¯¼è‡´çš„ç™»å½•è·³è½¬é—®é¢˜ï¼ˆä¸ä¼šå†è·³åˆ° `http://localhost/...`ï¼‰ï¼Œä½† WebSocket ä¸éƒ¨åˆ†åœºæ™¯ä»å»ºè®®æŠŠ `X-Forwarded-*` å¤´é€ä¼ å®Œæ•´ã€‚

Nginx ç¤ºä¾‹ï¼ˆå®Œæ•´è¯´æ˜è§ `docs/reverse-proxy.md`ï¼‰ï¼š

```nginx
location / {
  proxy_pass http://127.0.0.1:5000;
  proxy_http_version 1.1;
  proxy_set_header Upgrade $http_upgrade;
  proxy_set_header Connection "Upgrade";
  proxy_set_header Host $host;
  proxy_set_header X-Forwarded-Host $host;
  proxy_set_header X-Forwarded-Proto $scheme;
  proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
}
```

## æœ¬åœ°å¼€å‘è¿è¡Œï¼ˆå¯é€‰ï¼‰

```bash
dotnet run --project src/TelegramPanel.Web
```

## å¤–éƒ¨ APIï¼ˆå¯é€‰ï¼‰

é¡¹ç›®æä¾›å°‘é‡å¤–éƒ¨å¯è°ƒç”¨æ¥å£ï¼Œç”¨äºä¸å…¶ä»–ç³»ç»Ÿè”åŠ¨ã€‚å‡ºäºå®‰å…¨è€ƒè™‘ï¼Œæ¥å£é»˜è®¤å…³é—­ï¼Œä¸”ä½¿ç”¨è¯·æ±‚å¤´ `X-API-Key` é‰´æƒã€‚

åœ¨é¢æ¿å·¦ä¾§èœå•ã€ŒAPI ç®¡ç†ã€ä¸­å¯ä»¥ï¼š

- æ–°å»º APIï¼Œå¹¶ä¸ºè¯¥ API é…ç½®é¡¹å‘½å
- é€‰æ‹© API ç±»å‹ï¼ˆåç»­å¯æ‰©å±•æ›´å¤šç±»å‹ï¼‰
- ä¸ºæ¯ä¸ªé…ç½®é¡¹ç”Ÿæˆç‹¬ç«‹çš„ `X-API-Key`ï¼ˆåŒä¸€æ¥å£å¯åˆ›å»ºå¤šä¸ªé…ç½®é¡¹ï¼Œé€šè¿‡ Key åŒºåˆ†ï¼‰

### å…¨å±€è¸¢äºº/å°ç¦ï¼š`POST /api/kick`

ç”¨é€”ï¼šä»é…ç½®çš„ Bot ç®¡ç†çš„é¢‘é“/ç¾¤ç»„ä¸­è¸¢å‡ºæˆ–å°ç¦æŒ‡å®šç”¨æˆ·ï¼ˆæŒ‰ Telegram ç”¨æˆ· IDï¼‰ã€‚æœåŠ¡ç«¯ä¼šæ ¹æ®è¯·æ±‚å¤´ `X-API-Key` åŒ¹é…å¯¹åº”çš„ API é…ç½®é¡¹å¹¶æ‰§è¡Œã€‚

è¯·æ±‚å¤´ï¼š

- `Content-Type: application/json`
- `X-API-Key: <KICK_API_KEY>`

è¯·æ±‚ä½“ï¼š

```json
{ "user_id": 123456789 }
```

å¯é€‰å‚æ•°ï¼š

```json
{ "user_id": 123456789, "permanent_ban": true }
```

è°ƒç”¨ç¤ºä¾‹ï¼š

```bash
curl -X POST "http://localhost:5000/api/kick" \
  -H "Content-Type: application/json" \
  -H "X-API-Key: <KICK_API_KEY>" \
  -d '{"user_id": 123456789}'
```

æŠŠ `http://localhost:5000` æ›¿æ¢ä¸ºä½ å®é™…è®¿é—®é¢æ¿çš„åœ°å€å³å¯ã€‚

é…ç½®å…¥å£ï¼šé¢æ¿å·¦ä¾§èœå•ã€ŒAPI ç®¡ç†ã€ã€‚

## è¯¦ç»†æ–‡æ¡£

- `docs/README.md`ï¼ˆç´¢å¼•ï¼‰
- `docs/import.md`ï¼ˆå‹ç¼©åŒ…æ‰¹é‡å¯¼å…¥ç»“æ„ï¼‰
- `docs/sync.md`ï¼ˆåŒæ­¥è¯´æ˜ + è‡ªåŠ¨åŒæ­¥ï¼‰
- `docs/reverse-proxy.md`ï¼ˆNginx/Caddy åä»£ï¼Œå« WebSocketï¼‰
- `docs/api.md`ï¼ˆæ¥å£é€ŸæŸ¥ï¼‰
- `docs/database.md`ï¼ˆæ•°æ®åº“/è¡¨ç»“æ„è¯´æ˜ï¼‰
- `docs/advanced.md`ï¼ˆé…ç½®é¡¹/æ•°æ®ç›®å½•/åå°ä»»åŠ¡ç­‰ï¼‰
- `docs/modules.md`ï¼ˆæ¨¡å—ç³»ç»Ÿï¼šå¯å®‰è£…/å¯å¸è½½/ä¾èµ–/å›æ»šï¼‰
